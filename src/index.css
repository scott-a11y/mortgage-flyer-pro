@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap');
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;500;600;700;800;900&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Utility: hide scrollbars while keeping scroll functionality */
.scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
    display: none;
}

@layer base {
    :root {
        --background: 240 10% 2%;
        --foreground: 180 100% 50%;

        --card: 240 10% 4%;
        --card-foreground: 0 0% 98%;

        --popover: 240 10% 4%;
        --popover-foreground: 0 0% 98%;

        --primary: 180 100% 50%;
        --primary-foreground: 240 10% 2%;

        --secondary: 240 5% 15%;
        --secondary-foreground: 0 0% 98%;

        --muted: 240 5% 10%;
        --muted-foreground: 180 20% 50%;

        --accent: 180 100% 50%;
        --accent-foreground: 240 10% 2%;

        --destructive: 0 100% 50%;
        --destructive-foreground: 0 0% 98%;

        --border: 180 100% 50% / 0.1;
        --input: 240 5% 10%;
        --ring: 180 100% 50% / 0.3;

        --radius: 0.25rem;

        --materia-cyan: 180 100% 50%;
        --materia-slate: 240 10% 2%;
        --materia-glass: 240 10% 4% / 0.8;
    }

    * {
        @apply border-white/5;
    }

    body {
        @apply bg-[#030304] text-slate-300 antialiased min-h-screen;
        font-family: 'Inter', sans-serif;
    }
}

@layer components {
    .editor-section {
        @apply bg-[#08080a] border border-cyan-500/10 p-6 space-y-4 shadow-2xl;
    }

    .editor-label {
        @apply text-[9px] font-bold text-cyan-500/40 uppercase tracking-[0.3em] mb-2 block font-mono;
    }

    .custom-scrollbar::-webkit-scrollbar {
        width: 3px;
        height: 3px;
    }

    .custom-scrollbar::-webkit-scrollbar-track {
        background: transparent;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb {
        @apply bg-cyan-500/10;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        @apply bg-cyan-500/30;
    }

    .bg-grid-slate-100 {
        background-image: linear-gradient(to right, rgba(0, 242, 255, 0.03) 1px, transparent 1px),
            linear-gradient(to bottom, rgba(0, 242, 255, 0.03) 1px, transparent 1px);
        background-size: 40px 40px;
    }

    .glass-header {
        @apply bg-[#030304]/90 backdrop-blur-2xl border-b border-cyan-500/10 h-10;
    }

    .dashboard-sidebar {
        @apply bg-[#030304] border-r border-cyan-500/10 flex flex-col items-center py-4 gap-4 shrink-0 w-16 transition-all duration-300;
        @apply hidden lg:flex;
    }

    .editor-panel {
        @apply bg-[#060608] border-r border-cyan-500/10 flex flex-col shrink-0 w-full lg:w-[420px] shadow-2xl transition-all duration-300;
        @apply h-[400px] lg:h-full;
    }

    .preview-stage {
        @apply flex-1 bg-[#020202] relative flex flex-col overflow-hidden items-center justify-center min-h-[400px];
    }

    .cyan-glow {
        @apply shadow-[0_0_15px_rgba(0, 242, 255, 0.15)];
    }

    button[data-state="active"] {
        @apply bg-cyan-500/10 text-cyan-400 shadow-none border-cyan-500/20 !important;
    }

    [role="tablist"] {
        @apply bg-black/40 border border-cyan-500/10 p-1 rounded-none !important;
    }

    [role="tab"] {
        @apply rounded-none transition-all duration-300 text-slate-500 hover:text-cyan-500/60 font-mono text-[10px] uppercase tracking-wider !important;
    }

    /* ═══════════════════════════════════════════════════════════════
       FLYER BUILDER - Responsive Layout Utilities
       ═══════════════════════════════════════════════════════════════ */

    /* Flyer Canvas - Maintains aspect ratio and never clips */
    .flyer-canvas {
        aspect-ratio: 8.5 / 11;
        max-width: 100%;
        width: auto;
        margin: 0 auto;
    }

    .flyer-canvas.instagram {
        aspect-ratio: 1080 / 1920;
    }

    .flyer-canvas.facebook {
        aspect-ratio: 1200 / 630;
    }

    .flyer-canvas.linkedin {
        aspect-ratio: 1200 / 627;
    }

    /* Hero Image Container - Never clips the property photo */
    .hero-image-container {
        position: relative;
        width: 100%;
        overflow: hidden;
    }

    .hero-image-container img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center;
    }

    /* Controls Sidebar - Independent scroll with stable gutter */
    .controls-sidebar {
        scrollbar-gutter: stable;
    }

    .controls-sidebar::-webkit-scrollbar {
        width: 4px;
    }

    .controls-sidebar::-webkit-scrollbar-track {
        background: transparent;
    }

    .controls-sidebar::-webkit-scrollbar-thumb {
        @apply bg-amber-500/20 rounded-full;
    }

    .controls-sidebar::-webkit-scrollbar-thumb:hover {
        @apply bg-amber-500/40;
    }

    /* Preview Area - Smooth scroll with hidden scrollbar on mobile */
    .preview-scroll {
        overflow: auto;
        -webkit-overflow-scrolling: touch;
    }

    .preview-scroll::-webkit-scrollbar {
        width: 6px;
        height: 6px;
    }

    .preview-scroll::-webkit-scrollbar-track {
        @apply bg-slate-800/20 rounded-full;
    }

    .preview-scroll::-webkit-scrollbar-thumb {
        @apply bg-slate-600/50 rounded-full;
    }

    .preview-scroll::-webkit-scrollbar-thumb:hover {
        @apply bg-slate-500/60;
    }
    /* Hide scrollbar utility */
    .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }
}

/* ═══════════════════════════════════════════════════════════════
   RESPONSIVE BREAKPOINTS - Flyer Builder Layout
   ═══════════════════════════════════════════════════════════════ */

/* Tablet and below - Stack layout */
@media (max-width: 1024px) {
    .builder-container {
        flex-direction: column;
    }

    .controls-sidebar {
        flex: 1 1 auto;
        width: 100%;
        max-height: 50vh;
        overflow-y: auto;
    }

    .preview-area {
        flex: 1 1 auto;
        width: 100%;
        min-height: 60vh;
    }
}

/* Mobile - Compact format tabs */
@media (max-width: 768px) {
    .format-tabs {
        overflow-x: auto;
        white-space: nowrap;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
    }

    .format-tabs::-webkit-scrollbar {
        display: none;
    }

    .format-tabs button {
        flex-shrink: 0;
    }
}

/* Print Styles for High Quality Flyers */
@media print {
    @page {
        size: letter portrait;
        margin: 0;
    }

    * {
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
        color-adjust: exact !important;
    }

    html,
    body {
        margin: 0 !important;
        padding: 0 !important;
        background: white !important;
        overflow: visible !important;
    }

    #capture-root {
        box-shadow: none !important;
        page-break-inside: avoid !important;
        break-inside: avoid !important;
        width: 612px !important;
        height: 792px !important;
        max-height: 792px !important;
        overflow: hidden !important;
        margin: 0 auto !important;
        transform: none !important;
    }

    /* Ensure footer never gets clipped */
    #capture-root>div:last-child,
    #capture-root>div:nth-last-child(2) {
        page-break-inside: avoid !important;
        break-inside: avoid !important;
    }

    /* Ensure images print at full quality */
    img {
        max-width: 100% !important;
        page-break-inside: avoid !important;
    }

    /* Hide screen-only elements */
    .no-print {
        display: none !important;
    }

    /* Ensure text is crisp */
    p,
    h1,
    h2,
    h3,
    h4,
    h5,
    h6,
    span,
    div {
        orphans: 3;
        widows: 3;
    }
}